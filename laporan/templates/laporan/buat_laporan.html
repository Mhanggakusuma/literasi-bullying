{% extends "base.html" %}
{% load static %}

{% block title %}Formulir Laporan Bullying{% endblock %}

{% block content %}
<div class="buat-laporan-page">

  <!-- ================= HERO ================= -->
  <section class="buat-laporan-hero">
    <div class="container text-center">

      <h1 class="hero-title">Formulir Laporan Bullying</h1>
      <p class="hero-subtitle">
        Isi laporan sesuai kejadian yang dialami atau disaksikan
      </p>

      <!-- ================= FORM CARD ================= -->
      <div class="form-card mx-auto mt-5">

        <img src="{% static 'img/ribbon.png' %}" class="form-icon" alt="Icon">
        <h3 class="form-title">Laporkan Perundungan</h3>

        <form method="post" enctype="multipart/form-data" class="text-start">
          {% csrf_token %}

          <!-- ================= 1. IDENTITAS PELAPOR ================= -->
          <h5 class="mb-3">üîí 1Ô∏è‚É£ Identitas Pelapor</h5>

          <div class="mb-3">
            <label class="form-label">Nama Pelapor</label>
            <input type="text"
                   class="form-control"
                   value="{{ profile.user.get_full_name|default:profile.user.username }}"
                   readonly>
          </div>

          <div class="mb-3">
            <label class="form-label">NIS</label>
            <input type="text"
                   class="form-control"
                   value="{{ profile.nis }}"
                   readonly>
          </div>

          <div class="mb-4">
            <label class="form-label">Kelas</label>
            <input type="text"
                   class="form-control"
                   value="{{ profile.kelas }}"
                   readonly>
          </div>

          <!-- OPSI ANONIM -->
          <div class="form-check mb-4">
            {{ form.is_anonymous }}
            <label class="form-check-label ms-2">
              Laporkan sebagai anonim
            </label>
            <small class="d-block text-muted">
              Identitas hanya dapat diakses oleh Guru BK & Admin
            </small>
          </div>

          <hr class="my-4">

          <!-- ================= 2. IDENTITAS KORBAN ================= -->
          <h5 class="mb-3">üë§ 2Ô∏è‚É£ Identitas Korban</h5>

          <div class="mb-3">
            <label class="form-label">Nama Korban</label>
            {{ form.nama_korban }}
          </div>

          <div class="mb-4">
            <label class="form-label">Kelas Korban</label>
            {{ form.kelas_korban }}
          </div>

          <hr class="my-4">

          <!-- ================= 3. IDENTITAS TERLAPOR ================= -->
          <h5 class="mb-3">‚ö†Ô∏è 3Ô∏è‚É£ Identitas Terlapor (Opsional)</h5>

          <div class="mb-3">
            <label class="form-label">Nama Terlapor</label>
            {{ form.nama_terlapor }}
          </div>

          <div class="mb-4">
            <label class="form-label">Kelas Terlapor</label>
            {{ form.kelas_terlapor }}
          </div>

          <hr class="my-4">

          <!-- ================= 4. JENIS PERUNDUNGAN ================= -->
          <h5 class="mb-3">üö® 4Ô∏è‚É£ Jenis Perundungan</h5>

          <div class="mb-4">
            {{ form.jenis_bullying }}
          </div>

          <hr class="my-4">

          <!-- ================= 5. WAKTU & TEMPAT ================= -->
          <h5 class="mb-3">üïí 5Ô∏è‚É£ Waktu & Tempat Kejadian</h5>

          <div class="mb-3">
            <label class="form-label">Tanggal Kejadian</label>
            {{ form.tanggal_kejadian }}
          </div>

          <div class="mb-3">
            <label class="form-label">Perkiraan Waktu</label>
            {{ form.perkiraan_waktu }}
          </div>

          <div class="mb-4">
            <label class="form-label">Lokasi Kejadian</label>
            {{ form.lokasi_kejadian }}
          </div>

          <hr class="my-4">

          <!-- ================= 6. KRONOLOGI ================= -->
          <h5 class="mb-3">üßæ 6Ô∏è‚É£ Kronologi Kejadian <span class="text-danger">(WAJIB)</span></h5>

          <div class="mb-2">
            {{ form.isi_laporan }}
          </div>

          <small class="text-muted d-block mb-4">
            ‚Ä¢ Gunakan bahasa sopan<br>
            ‚Ä¢ Hindari kata kasar<br>
            ‚Ä¢ Fokus pada kejadian
          </small>

          <hr class="my-4">

          <!-- ================= 7. DAMPAK KORBAN ================= -->
          <h5 class="mb-3">üíî 7Ô∏è‚É£ Dampak yang Dirasakan Korban</h5>

          <div class="mb-3">
            {{ form.dampak_korban }}
          </div>

          <div class="mb-4">
            {{ form.dampak_lainnya }}
          </div>

          <hr class="my-4">

          <!-- ================= 8. BUKTI ================= -->
          <h5 class="mb-3">üìé 8Ô∏è‚É£ Bukti Pendukung (Opsional)</h5>

          <div class="mb-4">
            {{ form.bukti }}
            <small class="text-muted">
              JPG / PNG / Video ‚Ä¢ Maksimal 10 MB
            </small>
          </div>

          <hr class="my-4">

          <!-- ================= 9. HARAPAN ================= -->
          <h5 class="mb-3">ü§ù 9Ô∏è‚É£ Harapan Pelapor (Opsional)</h5>

          <div class="mb-4">
            {{ form.harapan_pelapor }}
          </div>

          <hr class="my-4">

          <!-- ================= 10. PERNYATAAN ================= -->
          <h5 class="mb-3">‚úÖ 1Ô∏è‚É£0Ô∏è‚É£ Pernyataan</h5>

          <div class="form-check mb-4">
            {{ form.pernyataan_setuju }}
            <label class="form-check-label ms-2">
              Saya menyatakan laporan ini dibuat dengan jujur dan bertanggung jawab
            </label>
          </div>

          <!-- ================= SUBMIT ================= -->
          <button type="submit" class="btn btn-submit w-100">
            Kirim Laporan
          </button>

          <a href="{% url 'laporan_home' %}"
             class="btn btn-kembali w-100 mt-3">
            ‚Üê Kembali
          </a>

        </form>

      </div>
    </div>
  </section>

</div>
{% endblock %}
