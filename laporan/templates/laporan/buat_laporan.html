{% extends "base.html" %}
{% load static %}

{% block title %}
Buat Laporan Bullying
{% endblock %}

{% block content %}

<section class="hero-section">
  <div class="container text-center">

    <h1 class="hero-title">Formulir Laporan Bullying</h1>
    <p class="hero-subtitle">
      Silakan isi laporan dengan jujur dan lengkap. Identitas Anda akan dijaga.
    </p>

    <!-- ================= FORM CARD ================= -->
    <div class="form-card mx-auto mt-5">

      <img src="{% static 'img/ribbon.png' %}" class="form-icon" alt="Icon">
      <h3 class="form-title">Laporkan Kejadian</h3>

      <form method="post" enctype="multipart/form-data" class="text-start">
        {% csrf_token %}

        <!-- ================= ERROR GLOBAL ================= -->
        {% if form.non_field_errors %}
          <div class="alert alert-danger">
            {{ form.non_field_errors }}
          </div>
        {% endif %}

        <!-- ================= NAMA ================= -->
        <div class="mb-3">
          <label class="form-label">Nama Pelapor</label>
          {{ form.nama_pelapor }}
          {% if form.nama_pelapor.errors %}
            <div class="text-danger small">
              {{ form.nama_pelapor.errors }}
            </div>
          {% endif %}
        </div>

        <!-- ================= NIS ================= -->
        <div class="mb-3">
          <label class="form-label">NIS Pelapor</label>
          {{ form.nis_pelapor }}
          {% if form.nis_pelapor.errors %}
            <div class="text-danger small">
              {{ form.nis_pelapor.errors }}
            </div>
          {% endif %}
          <small class="text-muted">
            Gunakan NIS yang sesuai dengan akun terdaftar
          </small>
        </div>

        <!-- ================= KELAS (DROPDOWN) ================= -->
        <div class="mb-3">
          <label class="form-label">Kelas</label>
          {{ form.kelas_pelapor }}
          {% if form.kelas_pelapor.errors %}
            <div class="text-danger small">
              {{ form.kelas_pelapor.errors }}
            </div>
          {% endif %}
        </div>

        <!-- ================= TERLAPOR ================= -->
        <div class="mb-3">
          <label class="form-label">Nama Terlapor</label>
          {{ form.terlapor }}
          {% if form.terlapor.errors %}
            <div class="text-danger small">
              {{ form.terlapor.errors }}
            </div>
          {% endif %}
        </div>

        <!-- ================= JENIS BULLYING ================= -->
        <div class="mb-3">
          <label class="form-label">Jenis Bullying</label>
          {{ form.jenis_bullying }}
          {% if form.jenis_bullying.errors %}
            <div class="text-danger small">
              {{ form.jenis_bullying.errors }}
            </div>
          {% endif %}
        </div>

        <!-- ================= KRONOLOGI ================= -->
        <div class="mb-3">
          <label class="form-label">Kronologi Kejadian</label>
          {{ form.isi_laporan }}
          {% if form.isi_laporan.errors %}
            <div class="text-danger small">
              {{ form.isi_laporan.errors }}
            </div>
          {% endif %}
        </div>

        <!-- ================= BUKTI ================= -->
        <div class="mb-4">
          <label class="form-label">Bukti Pendukung (Opsional)</label>
          {{ form.bukti }}
          {% if form.bukti.errors %}
            <div class="text-danger small">
              {{ form.bukti.errors }}
            </div>
          {% endif %}
          <small class="text-muted">
            Format bebas (gambar / dokumen), maksimal 10 MB
          </small>
        </div>

        <!-- ================= SUBMIT ================= -->
        <div class="d-grid">
          <button type="submit" class="btn btn-primary btn-lg">
            Kirim Laporan
          </button>
        </div>

      </form>
    </div>

  </div>
</section>

{% endblock %}
